<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>סימולטור תשאול - ענף שיטור דיגיטלי</title>
  <script>
    // Global error handler - Simplified for better diagnostics
    window.onerror = function(message, source, lineno, colno, error) {
      console.error("Critical Uncaught Error:", {
        message: message,
        source: source,
        lineno: lineno,
        colno: colno,
        errorObject: error
      });
      // Return false to allow default browser error handling,
      // which might provide more direct feedback on the screen for some errors.
      return false; 
    };
  </script>
  <!-- Tailwind CSS is now loaded via src/main.css and Vite build process -->
  <!-- Inline styles related to theming and specific components have been moved to src/main.css or will be handled by Tailwind utility classes -->
<script type="importmap">
{
  "imports": {
    "@google/genai": "https://esm.sh/@google/genai@^0.9.0",
    "react": "https://esm.sh/react@^19.1.0",
    "react/jsx-runtime": "https://esm.sh/react@^19.1.0/jsx-runtime",
    "react-dom/client": "https://esm.sh/react-dom@^19.1.0/client",
    "lit": "https://esm.sh/lit@^3.3.0",
    "lit/": "https://esm.sh/lit@^3.3.0/",
    "@lit/context": "https://esm.sh/@lit/context@^1.1.5",
    "three": "https://esm.sh/three@^0.176.0",
    "three/": "https://esm.sh/three@^0.176.0/",
    "three/addons/loaders/GLTFLoader.js": "https://esm.sh/three@^0.176.0/examples/jsm/loaders/GLTFLoader.js",
    "three/addons/controls/OrbitControls.js": "https://esm.sh/three@^0.176.0/examples/jsm/controls/OrbitControls.js",
    "three/addons/loaders/EXRLoader.js": "https://esm.sh/three@0.176.0/examples/jsm/loaders/EXRLoader.js",
    "three/addons/postprocessing/EffectComposer.js": "https://esm.sh/three@0.176.0/examples/jsm/postprocessing/EffectComposer.js",
    "three/addons/postprocessing/RenderPass.js": "https://esm.sh/three@0.176.0/examples/jsm/postprocessing/RenderPass.js",
    "three/addons/postprocessing/ShaderPass.js": "https://esm.sh/three@0.176.0/examples/jsm/postprocessing/ShaderPass.js",
    "three/addons/postprocessing/UnrealBloomPass.js": "https://esm.sh/three@0.176.0/examples/jsm/postprocessing/UnrealBloomPass.js",
    "three/addons/shaders/FXAAShader.js": "https://esm.sh/three@0.176.0/examples/jsm/shaders/FXAAShader.js",
    // "@pixiv/three-vrm": "https://esm.sh/@pixiv/three-vrm@2.0.11", // Temporarily removed due to install issues
    "react-dom/": "https://esm.sh/react-dom@^19.1.0/",
    "react/": "https://esm.sh/react@^19.1.0/",
    "@/components/TrainerView": "/components/TrainerView.tsx",
    "@/components/TraineeView": "/components/TraineeView.tsx"
  }
}
</script>
<!-- <link rel="stylesheet" href="/index.css"> Removed as CSS is imported via JS in index.tsx -->
</head>
<body>
  <div id="root"></div>
  <!-- gdm-live-audio element removed from here. It will be managed by React in TraineeView.tsx -->
  <script type="module" src="/index.tsx"></script>
</body>
</html>
